(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6700],{65781:(e,t,s)=>{Promise.resolve().then(s.bind(s,95182))},87873:(e,t,s)=>{"use strict";function r(e){let t="https://yeeplatform.blob.core.windows.net";return e&&e.startsWith(t)?e.replace(t,"https://yeefmpremiumcontent.azureedge.net"):e}s.d(t,{m:()=>r})},95182:(e,t,s)=>{"use strict";s.d(t,{default:()=>c});var r=s(95155),l=s(12115),a=s(38485),o=s(87873),n=s(6874),i=s.n(n);function c(e){let{note:t}=e,[s,n]=(0,l.useState)(""),[c,d]=(0,l.useState)(0),[m,x]=(0,l.useState)(!0),[h,u]=(0,l.useState)(null);return((0,l.useEffect)(()=>{let e=async()=>{try{x(!0),u(null);let e=(0,o.m)(t.fileUrl);n(e)}catch(e){console.error("Error loading EPUB:",e),u("Failed to load EPUB document")}finally{x(!1)}};t.fileUrl&&e()},[t.fileUrl]),m)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-yellow-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading EPUB..."})]})}):h?(0,r.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto p-6",children:[(0,r.jsxs)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:[(0,r.jsx)("h3",{className:"text-red-800 font-semibold mb-2",children:"Error Loading EPUB"}),(0,r.jsx)("p",{className:"text-red-700 text-sm",children:h})]}),(0,r.jsx)(i(),{href:"/notes/".concat(t._id,"/").concat(encodeURIComponent(t.title.toLowerCase().replace(/\s+/g,"-"))),className:"inline-flex items-center px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors",children:"← Back to Note Details"})]})}):(0,r.jsxs)("div",{className:"min-h-screen bg-gray-900",children:[(0,r.jsx)("div",{className:"bg-gray-800 shadow-sm border-b border-gray-700 sticky top-0 z-10",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)(i(),{href:"/notes/".concat(t._id,"/").concat(encodeURIComponent(t.title.toLowerCase().replace(/\s+/g,"-"))),className:"flex items-center text-gray-300 hover:text-yellow-400 transition-colors",children:[(0,r.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 19l-7-7m0 0l7-7m-7 7h18"})}),"Back"]}),(0,r.jsx)("div",{className:"h-6 w-px bg-gray-600"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-lg font-semibold text-white truncate max-w-md",children:t.title}),t.author&&(0,r.jsxs)("p",{className:"text-sm text-gray-400",children:["by ",t.author]})]})]}),(0,r.jsx)("div",{className:"flex items-center space-x-4",children:(0,r.jsx)(i(),{href:"/notes",className:"px-4 py-2 text-sm bg-yellow-500 hover:bg-yellow-600 text-white rounded-lg transition-colors",children:"Browse Notes"})})]})})}),(0,r.jsx)("div",{style:{height:"calc(100vh - 80px)"},children:(0,r.jsx)(a.$W,{url:s,location:c,locationChanged:e=>{d(e)},readerStyles:{...a.Ko,readerArea:{...a.Ko.readerArea,backgroundColor:"#1f2937",color:"#f9fafb"},arrow:{...a.Ko.arrow,color:"#fbbf24"},arrowHover:{...a.Ko.arrowHover,color:"#f59e0b"}},epubInitOptions:{openAs:"epub"},getRendition:e=>{e.themes.default({"::selection":{background:"rgba(255, 255, 0, 0.3)"},".epubjs-hl":{fill:"yellow","fill-opacity":"0.3","mix-blend-mode":"multiply"}})}})})]})}}},e=>{e.O(0,[4278,6874,9641,8485,8441,5964,7358],()=>e(e.s=65781)),_N_E=e.O()}]);